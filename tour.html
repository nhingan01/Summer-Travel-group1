<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tour</title>
  <link rel="icon" type="image" href="images/head__logo.png">
  <link rel="stylesheet" href="css/tour.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="index.html">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
  <script src="JS/main.js"></script>

</head>

<body>
    <div>

         <!--start of header-->
         <div class="header">
            <div class="header__top">
                <ul class="header__top-list">
                    <li>
                        <i class="fa fa-globe" ></i>
                    </li>
                    <li>
                        <a href="index.html">LANGUAGES</a>
                    </li>
                    <li>
                        <a href="index.html">EN</a>
                    </li>
                    <li>
                        <a href="index.html">VN</a>
                    </li>
                    <li>
                        <a href="index.html">OUR SOCIAL</a>
                    </li>
                    <li>
                        <i class="fa fa-facebook" ></i>
                    </li>
                    <li>
                        <i class="fa fa-instagram"></i>
                    </li>
                    <li>
                        <i class="fa fa-twitter"></i>
                    </li>
                </ul>
                <ul class="header__top-list1">
                    <li>
                        <i class="fa fa-heart-o" style="color: white;"></i>
                    </li>
                    <li>
                        <a href="#tour">TOUR PACKAGES</a>
                    </li>
                    <li>
                        <i class="fa fa-phone" style="color: white;"></i>

                    </li>
                    <li>
                        <a href="index.html">CONTACT US</a>
                    </li>
                </ul>
            </div>
            <div class="header__btm">
                <img src="images/head__logo.png" alt="Page Logo" style="width: 10%; margin-left: 60px; padding: 10px;">
                <ul class="header__btm-list">
                    <li>
                        <div class="btn">
                            <a href="index.html">HOME</a>
                        </div>
                    </li>
                    <li>
                        <div class="btn dropdown">
                            <button
                              class="btn btn-white dropdown-toggle"
                              type="button"
                              id="dropdownMenuButton"
                              data-mdb-toggle="dropdown"
                              aria-expanded="false"
                            >
                              PACKAGES
                            </button>
                            <ul class="btn dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <li><a class="dropdown-item" href="tour.html" target="_blank">Tour Packages</a></li>
                                <li><a class="dropdown-item" href="destinations.html">Destinations</a></li>
                              </ul>
                        </div>
                    </li>
                    <li>
                        <div class="btn dropdown">
                            <button
                              class="btn btn-white dropdown-toggle"
                              type="button"
                              id="dropdownMenuButton"
                              data-mdb-toggle="dropdown"
                              aria-expanded="false"
                            >
                              SHOP
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <li><a class="dropdown-item" href="cart.html">Cart</a></li>
                              </ul>
                        </div>
                    </li>
                    <li>
                        <div class="btn">
                            <a class="nav-link" href="#footer" style="text-align: center;">ABOUT US</a>
                        </div>
                    </li>
                    <li>
                        <div class="btn dropdown">
                            <button
                              class="btn btn-white dropdown-toggle"
                              type="button"
                              id="dropdownMenuButton"
                              data-mdb-toggle="dropdown"
                              aria-expanded="false"
                            >
                              ARTICLES
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <li><a class="dropdown-item" href="index.html">Travel News</a></li>
                                <li><a class="dropdown-item" href="tour.html" target="_blank">Alternative Trips</a></li>
                              </ul>
                        </div>                    
                    </li>
                    <li>
                        <div class="btn">
                            <a class="nav-link" href="#footer">CONTACT</a>
                        </div>
                    </li>
                    <li>
                        <a class="btn__headBtm" href="cart.html">BOOK NOW</a>
                    </li>
                </ul>
            </div>
        </div>
        <!--end of header-->
   
           
           <!----hidden header menu section----->
           <div id="hidden">
               <div>
                   <img src="images/head__logo.png" style="width: 18%;" alt="Head Logo">
               </div>
               <div>
                   <button id="hidden__btn" onclick="HideShow()">
                       <i class="fa fa-bars"></i>
                   </button>
               </div>
   
           </div>
           <!---- end of hidden header menu section----->
   
   
   
           <!---- start of hover hidden menu section----->
           <div id="hoverMenu">
               <div>
                   <button id="hover__btn" onclick="HideShow()">
                       <i  class="fa fa-close"></i>
                   </button>
               </div>
               <div class="hoverMenu">
                   <ul class="hoverMenu__list">
                       <li>
                           <a href="index.html">HOME</a>
                       </li>
                       <li>
                           <a href="#">PACKAGES</a>
                           <ul>
                               <li><a class="dropdown-item" href="tour.html">Tour Packages</a></li>
                               <li><a class="dropdown-item" href="destinations.html">Destinations</a></li>
                           </ul>
                       </li>
                       <li>
                           <a href="/">SHOP</a>
                           <ul>
                               <li><a class="dropdown-item" href="cart.html">Cart</a></li>
                           </ul>
                       </li>
                       <li><a href="#footer">ABOUT US</a></li>
                       <li>
                           <a href="/">ARTICLES</a>
                           <ul>
                               <li><a class="dropdown-item" href="index.html">Travel News</a></li>
                               <li><a class="dropdown-item" href="tour.html">Alternative Trips</a></li>
                           </ul>
                       </li>
                       <li><a class="nav-link" href="#footer">CONTACT</a></li>
   
                   </ul>
               </div>
           </div>
           <!---- end of hover hidden menu section----->
           

        <div style="padding: 0px 6px 40px;">
        
           <!-----start of filter search---->
           <div style="text-align: center; margin: 40px 40px 40px;">
               <h4 style="letter-spacing: 2px;">OUR DESTINATIONS</h4>
               <h1 style="letter-spacing: 4px; font-size: 35px;">CATEGORIES</h1>
           </div>
   
           <div id="searchTour" class="container">
               <form class="filter">
                   <div class="item">
                       <label>Areas</label>
                       <select name="Areas">
                           <option value="">---</option>
                           <option value="South of Vietnam">South of Vietnam</option>
                           <option value="Central">Central</option>
                           <option value="North">North</option>
                           <option value="Island">Island</option>
           
                       </select>
                   </div>
                   <div class="item">
                       <label>Duration</label>
                       <select name="duration">
                           <option value="">---</option>
                           <option value="1-3 days">1-3 days</option>
                           <option value="3-5 days">3-5 days</option>
                           <option value="5-7 days">5-7 days</option>
                       </select>
                   </div>
                   <div class="item">
                       <label>Destinations</label>
                       <input name="name" type="text" placeholder="Type your destination">
                   </div>
                   <div class="item">
                       <label>Min Price</label>
                       <input name="minPrice" type="number" placeholder="Type minimum price">
                   </div>
                   <div class="item">
                       <label>Max Price</label>
                       <input name="maxPrice" type="number" placeholder="Type maximum price">
                   </div>
                   <div class="item submit">
                       <button>SEARCH</button>
                   </div>
               </form>
               <div class="countResults">
                   Found <b id="count">5</b> results
               </div>
               <div id="list">
                   
               </div>
           </div>
           <!---end of filter search------>
       </div>

       
        <!---footer--->
        <footer style="background-image: url(images/footer.jpg); width: 100%;">
            <div id="footer">
                <div id="footer__contact" class="container-fluid">
                    <div  class="row">
                        <div id="footer__contactText" class="col col-lg-6 col-md-6 col-sm-12 col-12">
                            <h5>KEEP IN TOUCH</h5>
                            <h3 style="font-size: 40px;">Travel with Us</h3>
                        </div>
                        <div id="footer__contactInput" class="col col-lg-6 col-md-6 col-sm-12 col-12">
                            <form>
                                <div class="mb-3">
                                  <label for="exampleInputEmail1" class="form-label">Email address</label>
                                  <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
                                  <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
                                </div>
                                <button type="submit" class="btn btn-primary">Send</button>
                            </form>
                        </div>
                    </div>
                    
                </div>

                <div id="contact" class="container-fluid">
                            <div class="row">
                                <div id="contact__info" class="col col-lg-6 col-md-12 col-sm-12 col-12">
                                    <img src="images/head__logo.png" alt="Logo">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur ut diam et nibh condimentum venenatis eu ac magnasin. Quisque interdum est mauris, eget ullamcorper.</p>
                                </div>
    
    
                                <div id="footer__item" class="col col-lg-2 col-md-4 col-sm-6 col-12">
                                    <h3>OUR AGENCY</h3>
                                    <ul>
                                        <li><i class="fa fa-angle-right"></i> Services</li>
                                        <li><i class="fa fa-angle-right"></i> Insurance</li>
                                        <li><i class="fa fa-angle-right"></i> Agency</li>
                                        <li><i class="fa fa-angle-right"></i> Tourism</li>
                                        <li><i class="fa fa-angle-right"></i> Payment</li>
                                    </ul>
                                </div>
    
    
                                <div id="footer__item" class="col col-lg-2 col-md-4 col-sm-6 col-12">
                                    <h3>PARTNERS</h3>
                                    <ul>
                                        <li><i class="fa fa-angle-right"></i> Booking</li>
                                        <li><i class="fa fa-angle-right"></i> RentalCar</li>
                                        <li><i class="fa fa-angle-right"></i> HostelWorld</li>
                                        <li><i class="fa fa-angle-right"></i> Trivago</li>
                                        <li><i class="fa fa-angle-right"></i> TripAdvisor</li>
                                    </ul>
                                </div>
    
    
                                <div id="footer__item" class="col col-lg-2 col-md-4 col-sm-12 col-12">
                                    <h3>DESTINATIONS</h3>
                                    <ul>
                                        <li><i class="fa fa-angle-right"></i> TpHCM</li>
                                        <li><i class="fa fa-angle-right"></i> Hà Nội</li>
                                        <li><i class="fa fa-angle-right"></i> Quảng Bình</li>
                                        <li><i class="fa fa-angle-right"></i> Bình Thuận</li>
                                        <li><i class="fa fa-angle-right"></i> Bà Rịa - Vũng Tàu</li>
                                    </ul>
                                </div>
                            </div>
                </div>
                
                <div style="height: 40px;"></div>
            </div>
        </footer>
        <!----end of footer------>
    </div>
    
    
    <!-----script------>
    <script>
        
let list = document.getElementById('list');

//nơi chứa dữ liệu để filter
let filter = document.querySelector('.filter');

//số kết quả trả về sau khi filter
let count = document.getElementById('count');

let listProducts = [
    {
        id: 1,
        name: 'Ha Noi',
        price: 2056000,
        image: 'images/hanoi.jpg',
        nature: {
            duration: ['1-3 days', '3-5 days'],
            type: 'North'
        }
    },
    {
        id: 2,
        name: 'Ho Chi Minh City',
        price: 2056000,
        image: 'images/hcmc.avif',
        nature: {
            duration: ['1-3 days', '3-5 days'],
            type: 'South of Vietnam'
        }
    },
    {
        id: 3,
        name: 'Da Nang',
        price: 3456000,
        image: 'images/danang.jpg',
        nature: {
            duration: ['1-3 days', '3-5 days'],
            type: 'Central'
        }
    },
    {
        id: 4,
        name: 'Hue',
        price: 3456000,
        image: 'images/hue.jpg',
        nature: {
            duration: ['5-7 days', '3-5 days'],
            type: 'Central'
        }
    },
    {
        id: 5,
        name: 'Quy Nhon',
        price: 4320000,
        image: 'images/background__searchfilter.jpg',
        nature: {
            duration: ['5-7 days', '3-5 days'],
            type: 'Central'
        }
    },
    {
        id: 6,
        name: 'Phu Quoc',
        price: 3765000,
        image: 'images/image__1.jpg',
        nature: {
            duration: ['5-7 days', '3-5 days','1-3 days'],
            type: 'Island'
        }
    },

];

let productFilter = listProducts; //danh sách sp trả về sau mỗi filter
    showProduct(productFilter);
    
    //chạy function khi submit
    filter.addEventListener('submit', function(event){
        event.preventDefault(); //prevent default reload page
        let valueFilter = event.target.elements;

        productFilter = listProducts.filter(item => {
            // check area
            if(valueFilter.Areas.value != ''){ //khi giá trị đc chọn
                if(item.nature.type != valueFilter.Areas.value){//giá trị khác loại thì false để loại bỏ ==> show cái true giống với giá trị
                    return false;
                }
            }
            // check duration
            if(valueFilter.duration.value != ''){ //khi giá trị đc chọn
                if(!item.nature.duration.includes(valueFilter.duration.value)){ //kiểm tra trong mảng có tồn tại giá trị trùng với giá trị được chọn hay không
                    return false;
                }
            }
            // check name
            if(valueFilter.name.value != ''){ //khi giá trị đc chọn
                if(!item.name.includes(valueFilter.name.value)){//kiểm tra tên sp không có chuỗi trùng với mảng thì false
                    return false;
                }
            }
            // check min price
            if(valueFilter.minPrice.value != ''){ //khi giá trị đc chọn
                if(item.price < valueFilter.minPrice.value){ // kiểm tra giá sp nào nhỏ hơn MinPrice được nhập vào
                    return false;
                }
            }
            //  check max price
            if(valueFilter.maxPrice.value != ''){ //khi giá trị đc chọn
                if(item.price > valueFilter.maxPrice.value){ // kiểm tra giá sp nào lớn hơn MinPrice được nhập vào
                    return false;
                }
            }
    
    
            return true;
        })
        showProduct(productFilter);
    })

    //show products in html
    function showProduct(productFilter){
        count.innerText = productFilter.length;
        list.innerHTML = ''; //mỗi lần lọc trả về ""

        // tạo div sau khi lọc
        productFilter.forEach(item => {
            let newItem = document.createElement('div');
            newItem.classList.add('item');
    
            // create image
            let newImage = new Image();
            newImage.src = item.image;
            newItem.appendChild(newImage);
            
            // create name product
            let newTitle = document.createElement('div');
            newTitle.classList.add('title');
            newTitle.innerText = item.name;
            newItem.appendChild(newTitle);

            // create price
            let newPrice = document.createElement('div');
            newPrice.classList.add('price');
            newPrice.innerText = item.price.toLocaleString() + ' đ';
            newItem.appendChild(newPrice);
    
            list.appendChild(newItem);
        });
    }

    </script>

</body>
</html>
